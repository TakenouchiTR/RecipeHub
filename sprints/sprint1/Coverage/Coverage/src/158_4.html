<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Shawn\Documents\School\CS 4982 Capstone\repo\RecipeHub\code\RecipeHub\Tests\DesktopClientTests\DesktopClient\Service\Recipes\RecipesServiceTests\EditRecipeTests.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using Desktop_Client.Endpoints.Recipes;
using Desktop_Client.Service.Recipes;
using Moq;
using Shared_Resources.ErrorMessages;
using Shared_Resources.Model.Recipes;

namespace DesktopClientTests.DesktopClient.Service.Recipes.RecipesServiceTests
{
    public class EditRecipeTests
    {
        [Test]
        public void SuccessfullyEditRecipe()
        {
            const string sessionKey = &quot;Key&quot;;
            const int recipeId = 1;
            const string name = &quot;name&quot;;
            const string description = &quot;description&quot;;
            const bool isPublic = true;

            var recipesEndpoint = new Mock&lt;IRecipesEndpoints&gt;();
            recipesEndpoint.Setup(mock =&gt; mock.EditRecipe(sessionKey, recipeId, name, description, isPublic));

            var service = new RecipesService(recipesEndpoint.Object);

            Assert.Multiple(() =&gt;
            {
                Assert.DoesNotThrow(() =&gt; service.EditRecipe(sessionKey, recipeId, name, description, isPublic));
                recipesEndpoint.Verify(mock =&gt; mock.EditRecipe(sessionKey, recipeId, name, description, isPublic), Times.Once);
            });
        }

        [Test]
        public void NullSessionKey()
        {
            const string sessionKey = null!;
            const int recipeId = 1;
            const string name = &quot;name&quot;;
            const string description = &quot;description&quot;;
            const bool isPublic = true;

            const string errorMessage = SessionKeyErrorMessages.SessionKeyCannotBeNull + &quot; (Parameter &#39;sessionKey&#39;)&quot;;
            Assert.Multiple(() =&gt;
            {
                var message = Assert.Throws&lt;ArgumentNullException&gt;(() =&gt; 
                    new RecipesService().EditRecipe(sessionKey!, recipeId, name, description, isPublic))!.Message;
                Assert.That(message, Is.EqualTo(errorMessage));
            });
        }

        [Test]
        public void EmptySessionKey()
        {
            const string sessionKey = &quot;&quot;;
            const int recipeId = 1;
            const string name = &quot;name&quot;;
            const string description = &quot;description&quot;;
            const bool isPublic = true;

            const string errorMessage = SessionKeyErrorMessages.SessionKeyCannotBeEmpty;
            Assert.Multiple(() =&gt;
            {
                var message = Assert.Throws&lt;ArgumentException&gt;(() =&gt; 
                    new RecipesService().EditRecipe(sessionKey, recipeId, name, description, isPublic))!.Message;
                Assert.That(message, Is.EqualTo(errorMessage));
            });
        }

        [Test]
        public void NullRecipeName()
        {
            const string sessionKey = &quot;Key&quot;;
            const int recipeId = 1;
            const string name = null!;
            const string description = &quot;description&quot;;
            const bool isPublic = true;

            const string errorMessage = RecipesServiceErrorMessages.RecipeNameCannotBeNull + &quot; (Parameter &#39;name&#39;)&quot;;
            Assert.Multiple(() =&gt;
            {
                var message = Assert.Throws&lt;ArgumentNullException&gt;(() =&gt; 
                    new RecipesService().EditRecipe(sessionKey, recipeId, name!, description, isPublic))!.Message;
                Assert.That(message, Is.EqualTo(errorMessage));
            });
        }

        [Test]
        public void EmptyRecipeName()
        {
            const string sessionKey = &quot;Key&quot;;
            const int recipeId = 1;
            const string name = &quot;&quot;;
            const string description = &quot;description&quot;;
            const bool isPublic = true;

            const string errorMessage = RecipesServiceErrorMessages.RecipeNameCannotBeEmpty;
            Assert.Multiple(() =&gt;
            {
                var message = Assert.Throws&lt;ArgumentException&gt;(() =&gt; 
                    new RecipesService().EditRecipe(sessionKey, recipeId, name, description, isPublic))!.Message;
                Assert.That(message, Is.EqualTo(errorMessage));
            });
        }

        [Test]
        public void NullRecipeDescription()
        {
            const string sessionKey = &quot;Key&quot;;
            const int recipeId = 1;
            const string name = &quot;name&quot;;
            const string description = null!;
            const bool isPublic = true;

            const string errorMessage = RecipesServiceErrorMessages.RecipeDescriptionCannotBeNull + &quot; (Parameter &#39;description&#39;)&quot;;
            Assert.Multiple(() =&gt;
            {
                var message = Assert.Throws&lt;ArgumentNullException&gt;(() =&gt; 
                    new RecipesService().EditRecipe(sessionKey, recipeId, name, description!, isPublic))!.Message;
                Assert.That(message, Is.EqualTo(errorMessage));
            });
        }

        [Test]
        public void EmptyRecipeDescription()
        {
            const string sessionKey = &quot;Key&quot;;
            const int recipeId = 1;
            const string name = &quot;name&quot;;
            const string description = &quot;&quot;;
            const bool isPublic = true;

            const string errorMessage = RecipesServiceErrorMessages.RecipeDescriptionCannotBeEmpty;
            Assert.Multiple(() =&gt;
            {
                var message = Assert.Throws&lt;ArgumentException&gt;(() =&gt; 
                    new RecipesService().EditRecipe(sessionKey, recipeId, name, description, isPublic))!.Message;
                Assert.That(message, Is.EqualTo(errorMessage));
            });
        }
    }
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[13,9,13,10,1],[20,13,20,65,1],[21,13,21,111,1],[23,13,23,70,1],[25,13,26,13,1],[26,13,26,14,1],[26,14,27,17,1],[27,17,27,43,1],[27,43,27,112,1],[27,112,27,114,1],[27,114,28,17,1],[28,17,28,128,1],[28,128,29,13,1],[29,13,29,14,1],[29,14,29,16,1],[30,9,30,10,1],[34,9,34,10,1],[42,13,43,13,1],[43,13,43,14,1],[43,14,44,17,1],[44,17,45,21,1],[45,21,45,104,1],[45,104,45,115,1],[45,115,46,17,1],[46,17,46,64,1],[46,64,47,13,1],[47,13,47,14,1],[47,14,47,16,1],[48,9,48,10,1],[52,9,52,10,1],[60,13,61,13,1],[61,13,61,14,1],[61,14,62,17,1],[62,17,63,21,1],[63,21,63,103,1],[63,103,63,114,1],[63,114,64,17,1],[64,17,64,64,1],[64,64,65,13,1],[65,13,65,14,1],[65,14,65,16,1],[66,9,66,10,1],[70,9,70,10,1],[78,13,79,13,1],[79,13,79,14,1],[79,14,80,17,1],[80,17,81,21,1],[81,21,81,104,1],[81,104,81,115,1],[81,115,82,17,1],[82,17,82,64,1],[82,64,83,13,1],[83,13,83,14,1],[83,14,83,16,1],[84,9,84,10,1],[88,9,88,10,1],[96,13,97,13,1],[97,13,97,14,1],[97,14,98,17,1],[98,17,99,21,1],[99,21,99,103,1],[99,103,99,114,1],[99,114,100,17,1],[100,17,100,64,1],[100,64,101,13,1],[101,13,101,14,1],[101,14,101,16,1],[102,9,102,10,1],[106,9,106,10,1],[114,13,115,13,1],[115,13,115,14,1],[115,14,116,17,1],[116,17,117,21,1],[117,21,117,104,1],[117,104,117,115,1],[117,115,118,17,1],[118,17,118,64,1],[118,64,119,13,1],[119,13,119,14,1],[119,14,119,16,1],[120,9,120,10,1],[124,9,124,10,1],[132,13,133,13,1],[133,13,133,14,1],[133,14,134,17,1],[134,17,135,21,1],[135,21,135,103,1],[135,103,135,114,1],[135,114,136,17,1],[136,17,136,64,1],[136,64,137,13,1],[137,13,137,14,1],[137,14,137,16,1],[138,9,138,10,1]]);
    </script>
  </body>
</html>