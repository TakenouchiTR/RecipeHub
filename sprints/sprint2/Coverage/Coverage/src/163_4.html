<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Shawn\Documents\School\CS 4982 Capstone\repo\RecipeHub\code\RecipeHub\Desktop Client\ViewModel\Components\LoginFormViewModel.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System.ComponentModel;
using System.Runtime.CompilerServices;
using Desktop_Client.Service.Users;
using Desktop_Client.View.Screens;

namespace Desktop_Client.ViewModel.Components
{
    /// &lt;summary&gt;
    /// The viewmodel for &lt;see cref=&quot;LoginScreen&quot;/&gt;
    /// &lt;/summary&gt;
    public class LoginFormViewModel : INotifyPropertyChanged
    {
        private string username;
        private string password;
        private readonly IUsersService service;

        /// &lt;summary&gt;
        /// The text displayed in the username text field.
        /// &lt;/summary&gt;
        public string Username
        {
            get =&gt; username;
            set =&gt; SetField(ref username, value);
        }

        /// &lt;summary&gt;
        /// The text displayed in the password text field.
        /// &lt;/summary&gt;
        public string Password
        {
            get =&gt; password;
            set =&gt; SetField(ref password, value);
        }

        /// &lt;summary&gt;
        /// Creates a default instance of &lt;see cref=&quot;LoginFormViewModel&quot;/&gt;.&lt;br/&gt;
        /// Uses a default &lt;see cref=&quot;UsersService&quot;/&gt; for the service.&lt;br/&gt;
        /// &lt;br/&gt;
        /// &lt;b&gt;Precondition: &lt;/b&gt;None&lt;br/&gt;
        /// &lt;b&gt;Postcondition: &lt;/b&gt;this.Username == string.Empty&lt;br/&gt;
        /// &amp;amp;&amp;amp; this.Password == string.Empty
        /// &lt;/summary&gt;
        public LoginFormViewModel() : this(new UsersService())
        {

        }

        /// &lt;summary&gt;
        /// Creates a default of &lt;see cref=&quot;LoginFormViewModel&quot;/&gt; with a specified &lt;see cref=&quot;IUsersService&quot;/&gt;.&lt;br/&gt;
        /// &lt;br/&gt;
        /// &lt;b&gt;Precondition: &lt;/b&gt;service != null&lt;br/&gt;
        /// &lt;b&gt;Postcondition: &lt;/b&gt;this.Username == string.Empty&lt;br/&gt;
        /// &amp;amp;&amp;amp; this.Password == string.Empty
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;service&quot;&gt;&lt;/param&gt;
        /// &lt;exception cref=&quot;ArgumentNullException&quot;&gt;&lt;/exception&gt;
        public LoginFormViewModel(IUsersService service)
        {
            this.service = service ??
                           throw new ArgumentNullException(nameof(service));
            username = &quot;&quot;;
            password = &quot;&quot;;
        }

        /// &lt;summary&gt;
        /// Attempts to log into the application with the provided credentials.&lt;br/&gt;
        /// Clears the Username and Password.&lt;br/&gt;
        /// Displays an message box with an error message if the login was not successful.&lt;br/&gt;
        /// &lt;br/&gt;
        /// &lt;b&gt;Precondition: &lt;/b&gt;None&lt;br/&gt;
        /// &lt;b&gt;Postcondition: &lt;/b&gt;this.Username == string.Empty&lt;br/&gt;
        /// &amp;amp;&amp;amp; this.Password == string.Empty
        /// &lt;/summary&gt;
        /// &lt;exception cref=&quot;ArgumentException&quot;&gt;&lt;/exception&gt;
        public void Login()
        {
            var username = Username;
            var password = Password;

            Username = string.Empty;
            Password = string.Empty;

            service.Login(username, password);
        }

        /// &lt;inheritdoc/&gt;
        public event PropertyChangedEventHandler? PropertyChanged;

        /// &lt;inheridoc/&gt;
        protected virtual void OnPropertyChanged([CallerMemberName] string? propertyName = null)
        {
            PropertyChanged?.Invoke(this, new PropertyChangedEventArgs(propertyName));
        }

        /// &lt;inheridoc/&gt;
        protected bool SetField&lt;T&gt;(ref T field, T value, [CallerMemberName] string? propertyName = null)
        {
            if (EqualityComparer&lt;T&gt;.Default.Equals(field, value)) return false;
            field = value;
            OnPropertyChanged(propertyName);
            return true;
        }
    }
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[22,20,22,28,1],[23,20,23,49,1],[31,20,31,28,1],[32,20,32,49,1],[43,39,43,63,1],[44,9,44,10,1],[46,9,46,10,1],[57,9,57,57,1],[58,9,58,10,1],[59,13,60,77,1],[61,13,61,27,1],[62,13,62,27,1],[63,9,63,10,1],[76,9,76,10,1],[77,13,77,37,1],[78,13,78,37,1],[80,13,80,37,1],[81,13,81,37,1],[83,13,83,47,1],[84,9,84,10,1],[91,9,91,10,1],[92,13,92,87,1],[93,9,93,10,1],[97,9,97,10,1],[98,13,98,66,1],[98,67,98,80,0],[99,13,99,27,1],[100,13,100,45,1],[101,13,101,25,1],[102,9,102,10,1]]);
    </script>
  </body>
</html>