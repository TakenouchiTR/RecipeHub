<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Shawn\Documents\School\CS 4982 Capstone\repo\RecipeHub\code\RecipeHub\Desktop Client\ViewModel\Users\RegistrationScreenViewModel.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System.ComponentModel;
using System.Runtime.CompilerServices;
using Desktop_Client.Service.Users;
using Desktop_Client.View.Screens;
using Shared_Resources.Model.Users;

namespace Desktop_Client.ViewModel.Users
{
    /// &lt;summary&gt;
    /// The viewmodel for &lt;see cref=&quot;RegistrationScreen&quot;/&gt;
    /// &lt;/summary&gt;
    public class RegistrationScreenViewModel : INotifyPropertyChanged
    {
        private string username;
        private string password;
        private string verifyPassword;
        private string firstName;
        private string lastName;
        private string email;
        private readonly IUsersService service;

        /// &lt;summary&gt;
        /// The text displayed in the username text field.
        /// &lt;/summary&gt;
        public string Username
        {
            get =&gt; username;
            set =&gt; SetField(ref username, value);
        }

        /// &lt;summary&gt;
        /// The text displayed in the password text field.
        /// &lt;/summary&gt;
        public string Password
        {
            get =&gt; password;
            set =&gt; SetField(ref password, value);
        }

        /// &lt;summary&gt;
        /// The text to be displayed in the verify password text field.
        /// &lt;/summary&gt;
        public string VerifyPassword
        {
            get =&gt; this.verifyPassword;
            set =&gt; this.SetField(ref this.verifyPassword, value);
        }

        /// &lt;summary&gt;
        /// The text to be displayed in the first name text field.
        /// &lt;/summary&gt;
        public string FirstName
        {
            get =&gt; this.firstName;
            set =&gt; this.SetField(ref this.firstName, value);
        }

        /// &lt;summary&gt;
        /// The text to be displayed in the last name text field.
        /// &lt;/summary&gt;
        public string LastName
        {
            get =&gt; this.lastName;
            set =&gt; this.SetField(ref this.lastName, value);
        }

        /// &lt;summary&gt;
        /// The text to be displayed in the email.
        /// &lt;/summary&gt;
        public string Email
        {
            get =&gt; this.email;
            set =&gt; this.SetField(ref this.email, value);
        }
        
        /// &lt;summary&gt;
        /// Creates a default instance of &lt;see cref=&quot;RegistrationScreenViewModel&quot;/&gt;.&lt;br/&gt;
        /// Uses a default &lt;see cref=&quot;UsersService&quot;/&gt; for the service.&lt;br/&gt;
        /// &lt;br/&gt;
        /// &lt;b&gt;Precondition: &lt;/b&gt;None&lt;br/&gt;
        /// &lt;b&gt;Postcondition: &lt;/b&gt;this.Username == string.Empty&lt;br/&gt;
        /// &amp;amp;&amp;amp; this.Password == string.Empty
        /// &lt;/summary&gt;
        public RegistrationScreenViewModel() : this(new UsersService())
        {

        }

        /// &lt;summary&gt;
        /// Creates a default of &lt;see cref=&quot;RegistrationScreenViewModel&quot;/&gt; with a specified &lt;see cref=&quot;IUsersService&quot;/&gt;.&lt;br/&gt;
        /// &lt;br/&gt;
        /// &lt;b&gt;Precondition: &lt;/b&gt;service != null&lt;br/&gt;
        /// &lt;b&gt;Postcondition: &lt;/b&gt;this.Username == string.Empty&lt;br/&gt;
        /// &amp;amp;&amp;amp; this.Password == string.Empty
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;service&quot;&gt;&lt;/param&gt;
        /// &lt;exception cref=&quot;ArgumentNullException&quot;&gt;&lt;/exception&gt;
        public RegistrationScreenViewModel(IUsersService service)
        {
            this.service = service ??
                           throw new ArgumentNullException(nameof(service));
            this.username = &quot;&quot;;
            this.password = &quot;&quot;;
            this.verifyPassword = &quot;&quot;;
            this.firstName = &quot;&quot;;
            this.lastName = &quot;&quot;;
            this.email = &quot;&quot;;
        }

        /// &lt;summary&gt;
        /// Attempts to create an account using the provided information.&lt;br/&gt;
        /// &lt;br/&gt;
        /// &lt;b&gt;Precondition: &lt;/b&gt;username != null&lt;br/&gt;
        /// &amp;amp;&amp;amp; this.Username != string.Empty&lt;br/&gt;
        /// &amp;amp;&amp;amp; this.Password != string.Empty&lt;br/&gt;
        /// &amp;amp;&amp;amp; this.VerifyPassword != string.Empty&lt;br/&gt;
        /// &amp;amp;&amp;amp; this.VerifiedPassword == this.Password&lt;br/&gt;
        /// &amp;amp;&amp;amp; this.FirstName != string.Empty&lt;br/&gt;
        /// &amp;amp;&amp;amp; this.LastName != string.Empty&lt;br/&gt;
        /// &amp;amp;&amp;amp; this.Email != string.Empty&lt;br/&gt;
        /// &amp;amp;&amp;amp; this.Email IS IN an email format&lt;br/&gt;
        /// &lt;b&gt;Postcondition: &lt;/b&gt;None
        /// &lt;exception cref=&quot;ArgumentException&quot;&gt;&lt;/exception&gt;
        /// &lt;/summary&gt;
        public void CreateAccount()
        {
            var account = new NewAccount(this.Username, this.Password, this.VerifyPassword, this.FirstName,
                this.LastName, this.Email);
            this.service.CreateAccount(account);
        }

        /// &lt;inheritdoc/&gt;
        public event PropertyChangedEventHandler? PropertyChanged;

        /// &lt;inheridoc/&gt;
        protected virtual void OnPropertyChanged([CallerMemberName] string? propertyName = null)
        {
            PropertyChanged?.Invoke(this, new PropertyChangedEventArgs(propertyName));
        }

        /// &lt;inheridoc/&gt;
        protected bool SetField&lt;T&gt;(ref T field, T value, [CallerMemberName] string? propertyName = null)
        {
            if (EqualityComparer&lt;T&gt;.Default.Equals(field, value)) return false;
            field = value;
            OnPropertyChanged(propertyName);
            return true;
        }
    }
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[27,20,27,28,1],[28,20,28,49,1],[36,20,36,28,1],[37,20,37,49,1],[45,20,45,39,1],[46,20,46,65,1],[54,20,54,34,1],[55,20,55,60,1],[63,20,63,33,1],[64,20,64,59,1],[72,20,72,30,1],[73,20,73,56,1],[84,48,84,72,1],[85,9,85,10,1],[87,9,87,10,1],[98,9,98,66,1],[99,9,99,10,1],[100,13,101,77,1],[102,13,102,32,1],[103,13,103,32,1],[104,13,104,38,1],[105,13,105,33,1],[106,13,106,32,1],[107,13,107,29,1],[108,9,108,10,1],[126,9,126,10,1],[127,13,128,44,1],[129,13,129,49,1],[130,9,130,10,1],[137,9,137,10,1],[138,13,138,87,1],[139,9,139,10,1],[143,9,143,10,1],[144,13,144,66,1],[144,67,144,80,0],[145,13,145,27,1],[146,13,146,45,1],[147,13,147,25,1],[148,9,148,10,1]]);
    </script>
  </body>
</html>